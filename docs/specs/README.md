# Specification Documents

This directory contains all project specifications organized by domain/feature context following Domain-Driven Design (DDD) principles.

## Directory Structure

```
docs/specs/
├── ai_workflow/       # AI workflow, prompts, chat modes, context management
├── observability/     # Telemetry, logging, monitoring
├── generators/        # Nx generators, scaffolding, templates
├── environment/       # Devbox, mise, CI/CD, runtime management
├── security/          # Security guardrails, secrets management
└── core/              # Core architecture, type system, hexagonal design
```

## File Naming Convention

Files are named by domain and spec type:

-   `{domain}.prd.md` - Product Requirements Documents
-   `{domain}.adr.md` - Architecture Decision Records
-   `{domain}.sds.md` - Software Design Specifications
-   `{domain}.spec.md` - Technical Specifications

## Spec ID Format

All specifications use the format: `DEV-{TYPE}-{NUMBER}`

Examples:

-   `DEV-PRD-001` - Product Requirement
-   `DEV-ADR-016` - Architecture Decision
-   `DEV-SDS-018` - Software Design Spec

## Finding Specifications

1. **By Domain**: Navigate to the relevant domain folder (e.g., `observability/` for logging specs)
2. **By ID**: Use the traceability matrix: `docs/traceability_matrix.md`
3. **By Search**: Run `grep -r "DEV-PRD-018" docs/specs/`

## Traceability

The `docs/traceability_matrix.md` file is auto-generated by `just spec-matrix` and provides:

-   Complete list of all spec IDs
-   File locations for each spec
-   Cross-references between specs

## Uniqueness Enforcement

The `just spec-matrix` command enforces that each Spec ID appears in only ONE file. Duplicate IDs will cause the build to fail.

## Migration Notes

This structure was created on 2025-11-18 by migrating from monolithic files:

-   `docs/dev_prd.md` → Split across domain folders
-   `docs/dev_adr.md` → Split across domain folders
-   `docs/dev_sds.md` → Split across domain folders
-   `docs/dev_technical-specifications.md` → `core/core.spec.md`

Historical references in work-summaries and reports may still reference the old file paths.

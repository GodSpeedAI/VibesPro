# Template Docs Folder Cleanup Analysis

**Date**: October 8, 2025
**Author**: AI Analysis
**Purpose**: Identify unnecessary files in template project's docs folder and configuration issues

---

## Executive Summary

**Critical Finding**: The template project contains many maintainer-specific files that should NOT be included in generated projects. These files would confuse users and create unnecessary clutter.

**Additional Issue**: Chat modes and prompts reference spec file locations (`docs/dev_adr.md`, `docs/dev_prd.md`, etc.) but these files should be generated by users AFTER scaffolding, not included in the template.

---

## Analysis of Template Docs Folder

### Files That Should Be REMOVED (Maintainer-Specific)

These appear to be accidentally copied from the VibesPro maintainer project:

1. **`dev_devkit-integration-plan.md`** - VibesPro-specific integration plan
2. **`dev_implementation_plan.md`** - VibesPro-specific implementation details
3. **`devkit-prompts-instructions-integration.md`** - Internal integration doc
4. **`ideation-insights.md`** - Maintainer ideation notes
5. **`mapping.md`** - Internal mapping document
6. **`template_structure_analysis.md`** - Meta-analysis of template structure
7. **`vibecoder_integration_plan.md`** - VibesPro-specific integration
8. **`environment_report.md`** - Likely maintainer environment snapshot
9. **`migration-from-yaml.md`** - Migration notes for VibesPro development
10. **`techstack.schema copy.json`** - Duplicate/backup file
11. **`vibelog.txt`** - Development log file

### Files That Should Be REMOVED (Pre-Generated Specs)

These spec files should be GENERATED by users using chatmodes/prompts:

13. **`dev_adr.md.j2`** - Should be empty template or starter with examples
14. **`dev_prd.md.j2`** - Should be empty template or starter with examples
15. **`dev_sds.md.j2`** - Should be empty template or starter with examples
16. **`dev_technical-specifications.md.j2`** - Should be empty template or starter with examples

**Rationale**: The workflow is:

1. User scaffolds project with Copier
2. User runs chatmodes like `spec.lean`, `spec.wide`
3. User runs prompts like `spec.plan.adr.prompt.md`, `spec.plan.prd.prompt.md`
4. These prompts GENERATE the spec files

If we include pre-filled spec files, they'll contain VibesPro-specific content, not the user's project.

### Files That Should Be KEPT (Essential Templates)

1. **`README.md.j2`** - Project README template ✅
2. **`commit_message_guidelines.md.j2`** - Commit conventions ✅
3. **`dev_spec_index.md.j2`** - Index for tracking specs ✅
4. **`spec_index.md.j2`** - General spec index ✅
5. **`traceability_matrix.md.j2`** - Requirement traceability ✅
6. **`techstack.schema.json`** - Schema for techstack validation ✅
7. **`nx-generators-guide.md`** - Nx usage guide ✅
8. **`markdownlint.md`** - Linting documentation ✅

### Directories Analysis

1. **`explanation/`** - ✅ **KEEP** - User-facing documentation (has system_architecture.md)
2. **`how-to/`** - ✅ **KEEP** - User guides including AI onboarding and creating prompts
3. **`reference/`** - ✅ **KEEP** - Reference documentation
4. **`security/`** - ✅ **KEEP** - Security guidelines (if present)
5. **`specs/`** - ❌ **REMOVE** - Contains test directories with THREAD values (maintainer artifacts)
    - `10914THREAD_VALUE/`, `11409THREAD_VALUE/`, `9336THREAD/`
    - `THREAD=test-feature-final/`, `THREAD=test-feature-fixed/`
    - `test-feature-direct/`
    - These are clearly test/development artifacts from the maintainer project
6. **`tutorials/`** - ✅ **KEEP** - User-facing tutorials
7. **`vibecoding/`** - ✅ **KEEP** - This is the AI-assisted development hub with nested structure:
    - Contains explanation/, how-to/, reference/, tutorials/
    - Acts as central hub for VibeCoding features
    - User-facing, not maintainer-specific
8. **`partials/`** - ✅ **KEEP** - Jinja2 partials (used by templates)

---

## Configuration Issues: Spec File Path References

### Problem

Prompts and chatmodes reference spec files at these locations:

-   `docs/dev_adr.md`
-   `docs/dev_prd.md`
-   `docs/dev_sds.md`
-   `docs/dev_technical-specifications.md`
-   `docs/spec_index.md`
-   `docs/dev_spec_index.md`
-   `docs/traceability_matrix.md`

**But these files should not exist in the initial scaffold** - they should be generated by users.

### Files That Reference Spec Locations

**Prompts referencing spec files:**

-   `.github/prompts/tool.techstack.sync.prompt.md` (line 19)
-   `.github/prompts/spec.implement.prompt.md` (line 46)
-   `.github/prompts/docs.generate.prompt.md` (line 22)
-   `.github/prompts/spec.transcript.to-devspec.prompt.md` (line 25)
-   `.github/prompts/spec.change.prompt.md` (line 56)
-   `.github/prompts/spec-housekeeping.prompt.md` (lines 24-26)

**Copilot instructions:**

-   `.github/copilot-instructions.md.j2` (references spec hierarchy, traceability matrix)

**Chat modes:**

-   `spec.lean.chatmode.md` (mentions traceability matrix & indexes)

### Recommendations

#### Option 1: Provide Empty Starter Templates

Replace the full `dev_adr.md.j2`, `dev_prd.md.j2`, etc. with minimal starters:

```markdown
# Architectural Decision Record

This file tracks architectural decisions for {{ project_name }}.

To generate ADRs, use:

-   Chat mode: `@workspace #spec.lean` or `@workspace #spec.wide`
-   Prompt: `.github/prompts/spec.plan.adr.prompt.md`

## Example Entry

**Decision ID:** ADR-001
**Title:** [Your Decision]
**Status:** Proposed
**Date:** YYYY-MM-DD

### Context

[Why this decision is needed]

### Decision

[What you decided]

### Consequences

[Impact and tradeoffs]
```

#### Option 2: Provide Examples in Separate Directory

Create `docs/examples/` or `docs/templates/` with example spec files, and keep the main docs/ clean:

```
docs/
  examples/
    example_adr.md
    example_prd.md
    example_sds.md
  dev_spec_index.md.j2  (empty/minimal)
  spec_index.md.j2      (empty/minimal)
  traceability_matrix.md.j2 (empty/minimal)
```

#### Option 3: Document the Workflow Clearly

Update `.github/copilot-instructions.md.j2` and `docs/README.md.j2` to explain:

1. **After scaffolding**, these files will not exist yet
2. **Use chat modes and prompts to generate them**
3. **Workflow**: scaffold → describe features → run spec prompts → implement

---

## Proposed Actions

### Immediate Cleanup

**Delete from template:**

```bash
# Maintainer-specific files
templates/{{project_slug}}/docs/dev_devkit-integration-plan.md
templates/{{project_slug}}/docs/dev_implementation_plan.md
templates/{{project_slug}}/docs/devkit-prompts-instructions-integration.md
templates/{{project_slug}}/docs/ideation-insights.md
templates/{{project_slug}}/docs/mapping.md
templates/{{project_slug}}/docs/template_structure_analysis.md
templates/{{project_slug}}/docs/vibecoder_integration_plan.md
templates/{{project_slug}}/docs/environment_report.md
templates/{{project_slug}}/docs/migration-from-yaml.md
templates/{{project_slug}}/docs/techstack.schema\ copy.json
templates/{{project_slug}}/docs/vibelog.txt
templates/{{project_slug}}/docs/work-summaries/

# Test/development artifacts in specs/
templates/{{project_slug}}/docs/specs/10914THREAD_VALUE/
templates/{{project_slug}}/docs/specs/11409THREAD_VALUE/
templates/{{project_slug}}/docs/specs/9336THREAD/
templates/{{project_slug}}/docs/specs/THREAD=test-feature-final/
templates/{{project_slug}}/docs/specs/THREAD=test-feature-fixed/
templates/{{project_slug}}/docs/specs/test-feature-direct/
```

### Replace Pre-Generated Specs

**Convert to minimal starters:**

```bash
# These should be nearly empty with instructions on how to generate
templates/{{project_slug}}/docs/dev_adr.md.j2
templates/{{project_slug}}/docs/dev_prd.md.j2
templates/{{project_slug}}/docs/dev_sds.md.j2
templates/{{project_slug}}/docs/dev_technical-specifications.md.j2
```

### Update Documentation

**Update these files to explain the workflow:**

1. `templates/{{project_slug}}/docs/README.md.j2` - Add "Getting Started with Specs" section
2. `templates/{{project_slug}}/.github/copilot-instructions.md.j2` - Add note about spec generation workflow
3. Create `templates/{{project_slug}}/docs/QUICKSTART.md.j2` - Step-by-step guide for new users

### Update Prompts (Optional)

Consider adding checks in prompts like `spec.implement.prompt.md`:

```markdown
## Pre-flight Check

Before implementing, ensure spec files exist:

-   [ ] `docs/dev_adr.md` exists or run `spec.plan.adr.prompt.md`
-   [ ] `docs/dev_prd.md` exists or run `spec.plan.prd.prompt.md`
-   [ ] `docs/dev_sds.md` exists or run `spec.plan.sds.prompt.md`

If files don't exist, generate them first using the spec planning prompts.
```

---

## Impact Assessment

### Benefits of Cleanup

1. **Reduced confusion** - Users won't see VibesPro-specific content
2. **Cleaner scaffolds** - Generated projects are minimal and focused
3. **Correct workflow** - Encourages users to generate specs for their own project
4. **Smaller template** - Less to maintain, faster generation
5. **Clear separation** - Template vs generated vs user-created content

### Risks

1. **Breaking existing workflows** - If anyone is relying on pre-generated specs
2. **Documentation gaps** - Need to ensure users know how to generate specs
3. **Migration effort** - Existing generated projects may have inconsistencies

### Mitigation

1. **Add comprehensive getting started guide** in `docs/QUICKSTART.md.j2`
2. **Update copilot instructions** to explain the workflow
3. **Version the template** and document breaking changes
4. **Test generation** after cleanup to ensure nothing breaks

---

## Next Steps

1. **Review and confirm** which files should be removed
2. **Create minimal starter templates** for spec files
3. **Update documentation** to explain spec generation workflow
4. **Test template generation** with cleanup applied
5. **Update CHANGELOG** with breaking changes note
6. **Consider migration guide** for existing users

---

## Questions for Maintainer

1. Should we keep any of the "work-summaries" or "vibecoding" content as examples?
2. Should spec starters be completely empty or have minimal examples?
3. Should we create a separate `docs/examples/` directory?
4. Are there any other maintainer-specific files in other template directories?
5. Should we add a template validation script to catch this in the future?

---

## Appendix: Full File Audit

### Template Docs Directory Structure

```
docs/
├── README.md.j2                              ✅ KEEP - Project readme
├── commit_message_guidelines.md.j2           ✅ KEEP - Commit conventions
├── dev_adr.md.j2                             ⚠️  REPLACE - Make minimal starter
├── dev_devkit-integration-plan.md            ❌ REMOVE - Maintainer-specific
├── dev_implementation_plan.md                ❌ REMOVE - Maintainer-specific
├── dev_prd.md.j2                             ⚠️  REPLACE - Make minimal starter
├── dev_sds.md.j2                             ⚠️  REPLACE - Make minimal starter
├── dev_spec_index.md.j2                      ✅ KEEP - Spec tracking
├── dev_technical-specifications.md.j2        ⚠️  REPLACE - Make minimal starter
├── devkit-prompts-instructions-integration.md ❌ REMOVE - Maintainer-specific
├── environment_report.md                     ❌ REMOVE - Maintainer-specific
├── ideation-insights.md                      ❌ REMOVE - Maintainer-specific
├── mapping.md                                ❌ REMOVE - Maintainer-specific
├── markdownlint.md                           ✅ KEEP - Linting docs
├── migration-from-yaml.md                    ❌ REMOVE - Maintainer-specific
├── nx-generators-guide.md                    ✅ KEEP - User guide
├── spec_index.md.j2                          ✅ KEEP - Spec tracking
├── techstack.schema.json                     ✅ KEEP - Schema
├── techstack.schema copy.json                ❌ REMOVE - Duplicate
├── template_structure_analysis.md            ❌ REMOVE - Meta-analysis
├── traceability_matrix.md.j2                 ✅ KEEP - Traceability
├── vibecoder_integration_plan.md             ❌ REMOVE - Maintainer-specific
├── vibelog.txt                               ❌ REMOVE - Dev log
├── explanation/                              ✅ KEEP - User-facing docs
├── how-to/                                   ✅ KEEP - User guides (AI onboarding, prompts)
├── partials/                                 ✅ KEEP - Jinja2 partials
├── reference/                                ✅ KEEP - Reference docs
├── security/                                 ✅ KEEP - Security guidelines
├── specs/                                    ⚠️  CLEAN - Remove test directories, keep structure
│   ├── 10914THREAD_VALUE/                    ❌ REMOVE
│   ├── 11409THREAD_VALUE/                    ❌ REMOVE
│   ├── 9336THREAD/                           ❌ REMOVE
│   ├── THREAD=test-feature-final/            ❌ REMOVE
│   ├── THREAD=test-feature-fixed/            ❌ REMOVE
│   └── test-feature-direct/                  ❌ REMOVE
├── tutorials/                                ✅ KEEP - User-facing tutorials
├── vibecoding/                               ✅ KEEP - AI development hub (user-facing)
└── work-summaries/                           ❌ REMOVE - Maintainer-specific
```

**Legend:**

-   ✅ KEEP - Essential for user projects
-   ❌ REMOVE - Maintainer-specific, not needed
-   ⚠️ REPLACE - Make minimal/empty starter
-   🔍 REVIEW - Check contents before deciding

---

**End of Analysis**
